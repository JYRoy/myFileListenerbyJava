package myFileListener;

import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import myFileListener.FileMd5;

/**
 * @author jyroo
 * myfilelistener
 */
@SuppressWarnings("unused")
public class myJsonFileListener {
	HashMap<String, String> hashmap = new HashMap<>(); //存放hash键值对
	List<String> pathName = new ArrayList<String>();  //存放文件名
	
	public void iteratorPath(String dir) {
		
		File file = new File(dir);
		File[] files = file.listFiles();   //返回某个目录下所有文件和目录的绝对路径  return file[]
		if(files != null) {
			for(File each_file : files) {
				if(each_file.isFile()) {
					pathName.add(each_file.getName());          
					
					String file_path = each_file.getAbsolutePath();
					try {
						FileMd5 md5 = new FileMd5();
						String md5_value = md5.fileMd5(file_path);
						hashmap.put(each_file.getName(), md5_value);
					} catch (IOException e) {
						System.out.println("1");
					}
				}else if(each_file.isDirectory()) {
					//iteratorPath(file.getAbsolutePath());
				}
			}
		}
	}
	
	public static void main(String[] args) {
		myJsonFileListener file_walk = new myJsonFileListener();
		file_walk.iteratorPath("E:\\tmp\\");
		Iterator iter =  file_walk.hashmap.entrySet().iterator();
		while(iter.hasNext()) {
			Map.Entry entry = (Map.Entry) iter.next();
			Object key = entry.getKey();
			Object value = entry.getValue();
		}
	}	
	
}
